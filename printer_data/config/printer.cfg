[include mainsail.cfg]
[include steppers.cfg]
[include extruder.cfg]
[include fans.cfg]
[include sensors.cfg]
[include Adaptive_Mesh.cfg]
[include mesh.cfg]
[include timelapse.cfg]
[include macros.cfg]
[include kshaketune.cfg]
[include motors_sync.cfg]

[idle_timeout]
timeout: 4800

[danger_options] allow_plugin_override: True


########################################
# MAIN
########################################

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_2C0020000C50315939343520-if00

[printer]
kinematics: limited_corexy
max_velocity: 1380
max_accel: 78350
minimum_cruise_ratio: 0.1
max_x_accel: 45000
max_y_accel: 16000
scale_xy_accel: true
max_z_velocity: 20
max_z_accel: 1500
square_corner_velocity: 15.0

########################################
# HEATED BED
########################################

[heater_bed]
heater_pin: PA1
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PF3
control: pid
pid_kp = 52.977
pid_ki = 1.909
pid_kd = 367.527
max_power: 0.7
pwm_cycle_time: 0.0166
min_temp: 0
max_temp: 120

########################################
# TUNING
########################################

[input_shaper]
enabled_extruders: extruder
#shaper_freq_x: 111.2
smoother_freq_x: 109.4
shaper_type_x: smooth_mzv
#damping_ratio_x: 0.031

shaper_freq_y: 89.0
#smoother_freq_y: 89.8
shaper_type_y: ei
damping_ratio_y: 0.029

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [stepper_z]
#*# position_endstop = -0.080
#*#
#*# [beacon model default]
#*# model_coef = 1.483303836398399,
#*# 	  1.854085002217447,
#*# 	  0.8074252373526849,
#*# 	  0.3116401903562349,
#*# 	  0.3589507786925229,
#*# 	  0.42096367665155976,
#*# 	  -0.4057732603189803,
#*# 	  -0.5162339085941002,
#*# 	  0.355008180219388,
#*# 	  0.3315262788618281
#*# model_domain = 1.8335783659486415e-07,1.9344443278306973e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 24.651572
#*# model_offset = 0.20000
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	0.024955, 0.024993, 0.027131, 0.028711, 0.029558, 0.028568, 0.028980, 0.028606, 0.029636, 0.029666, 0.029286, 0.029378, 0.026894, 0.026170, 0.022385, 0.019846, 0.017989, 0.014760, 0.012792, 0.008673, 0.006272, 0.004126, 0.001271, 0.001546, 0.002468
#*# 	0.026186, 0.027536, 0.027898, 0.030726, 0.031495, 0.031035, 0.030996, 0.032411, 0.032772, 0.031686, 0.031175, 0.031078, 0.028506, 0.026448, 0.024337, 0.021154, 0.018670, 0.016624, 0.012951, 0.010259, 0.006683, 0.005579, 0.004452, 0.004019, 0.003720
#*# 	0.028953, 0.031151, 0.032861, 0.034841, 0.036094, 0.036151, 0.037722, 0.037181, 0.037237, 0.037359, 0.034359, 0.034785, 0.032799, 0.031039, 0.027696, 0.024913, 0.022626, 0.020002, 0.017756, 0.014099, 0.012822, 0.011600, 0.010037, 0.010271, 0.010505
#*# 	0.032592, 0.035366, 0.037241, 0.040113, 0.041249, 0.041037, 0.039883, 0.039919, 0.040291, 0.039592, 0.038381, 0.037044, 0.035338, 0.032605, 0.029800, 0.027576, 0.024365, 0.023943, 0.021459, 0.019445, 0.017296, 0.015310, 0.014130, 0.012150, 0.013718
#*# 	0.034972, 0.040522, 0.042303, 0.044651, 0.045637, 0.044814, 0.045574, 0.043732, 0.044046, 0.042018, 0.040941, 0.038554, 0.037489, 0.035480, 0.032726, 0.031337, 0.029466, 0.027853, 0.027138, 0.024854, 0.021679, 0.019874, 0.018184, 0.016881, 0.016776
#*# 	0.039664, 0.043249, 0.045923, 0.046635, 0.048342, 0.047609, 0.047099, 0.046746, 0.044917, 0.043268, 0.043275, 0.039928, 0.039674, 0.038038, 0.036135, 0.034629, 0.032829, 0.032505, 0.030715, 0.028446, 0.025204, 0.022996, 0.020203, 0.018790, 0.018054
#*# 	0.043778, 0.047545, 0.049562, 0.050665, 0.051008, 0.051898, 0.050157, 0.049139, 0.049570, 0.047917, 0.047779, 0.045903, 0.044732, 0.042733, 0.041534, 0.040105, 0.038774, 0.037128, 0.035175, 0.032994, 0.030410, 0.028019, 0.026484, 0.024716, 0.023354
#*# x_count = 25
#*# y_count = 7
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = direct
#*# tension = 0.1
#*# min_x = 135.0
#*# max_x = 195.0
#*# min_y = 149.498
#*# max_y = 180.502
