[include mainsail.cfg]
[include steppers.cfg]
[include extruder.cfg]
[include fans.cfg]
[include sensors.cfg]
[include Adaptive_Mesh.cfg]
[include mesh.cfg]
[include timelapse.cfg]
[include macros.cfg]
[include kshaketune.cfg]
[include motors_sync.cfg]
[include light.cfg]

[idle_timeout]
timeout: 4800

[force_move]
enable_force_move: True

[verify_heater extruder]
max_error: 200 #(in seconds, default is 120)

[danger_options] allow_plugin_override: True


########################################
# MAIN
########################################

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_2C0020000C50315939343520-if00

[printer]
kinematics: limited_corexy
max_velocity: 1380
max_accel: 78350
minimum_cruise_ratio: 0.1
max_x_accel: 45000
max_y_accel: 16000
scale_xy_accel: true
max_z_velocity: 20
max_z_accel: 1500
square_corner_velocity: 15.0

########################################
# HEATED BED
########################################

[heater_bed]
heater_pin: PA1
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PF3
control: pid
pid_kp = 52.977
pid_ki = 1.909
pid_kd = 367.527
max_power: 0.7
pwm_cycle_time: 0.0166
min_temp: 0
max_temp: 120

########################################
# TUNING
########################################

[input_shaper]
enabled_extruders: extruder
#shaper_freq_x: 111.2
smoother_freq_x: 109.4
shaper_type_x: smooth_mzv
#damping_ratio_x: 0.031

shaper_freq_y: 89.0
#smoother_freq_y: 89.8
shaper_type_y: ei
damping_ratio_y: 0.029

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [stepper_z]
#*# position_endstop = -0.080
#*#
#*# [beacon model default]
#*# model_coef = 1.483303836398399,
#*# 	  1.854085002217447,
#*# 	  0.8074252373526849,
#*# 	  0.3116401903562349,
#*# 	  0.3589507786925229,
#*# 	  0.42096367665155976,
#*# 	  -0.4057732603189803,
#*# 	  -0.5162339085941002,
#*# 	  0.355008180219388,
#*# 	  0.3315262788618281
#*# model_domain = 1.8335783659486415e-07,1.9344443278306973e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 24.651572
#*# model_offset = -0.18500
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.036118, -0.027769, -0.015048, -0.017342, -0.014317, -0.014082, -0.014686, -0.014087, -0.011413, -0.009683, -0.009280, -0.006596, -0.004359, -0.005028, -0.004950, -0.003615, -0.002499, -0.003480, -0.004718, -0.007983, -0.011696, -0.013899, -0.019172, -0.021457, -0.024581, -0.028487, -0.029780, -0.032368, -0.033098, -0.033760, -0.033720, -0.035098, -0.036642, -0.038387, -0.042760, -0.046446, -0.049238
#*# 	  -0.023775, -0.023014, -0.019587, -0.016090, -0.014511, -0.013321, -0.011488, -0.010642, -0.009679, -0.007903, -0.005910, -0.002950, -0.002569, -0.002093, -0.006760, -0.000729, -0.000386, -0.002200, -0.002744, -0.006617, -0.009404, -0.012140, -0.016758, -0.017154, -0.021268, -0.024802, -0.025879, -0.028680, -0.029017, -0.029720, -0.030943, -0.032290, -0.036119, -0.037491, -0.042112, -0.046167, -0.049563
#*# 	  -0.031876, -0.025511, -0.020658, -0.016647, -0.016197, -0.013728, -0.008759, -0.009908, -0.006188, -0.002797, -0.002380, 0.002845, -0.000558, -0.001072, -0.000360, 0.000153, -0.002772, -0.004885, -0.003201, -0.004853, -0.010756, -0.012046, -0.015090, -0.020340, -0.020648, -0.021738, -0.024003, -0.027187, -0.028554, -0.030637, -0.031960, -0.033562, -0.037010, -0.040147, -0.044335, -0.048547, -0.054813
#*# 	  -0.025127, -0.023471, -0.019451, -0.016264, -0.011617, -0.012146, -0.007541, -0.004975, -0.004392, -0.001106, 0.000532, 0.002271, 0.001784, 0.002190, -0.000426, -0.000279, -0.001687, -0.003642, -0.005389, -0.007046, -0.010139, -0.012164, -0.014027, -0.014411, -0.017295, -0.020283, -0.023450, -0.025353, -0.027289, -0.028055, -0.030797, -0.035481, -0.037811, -0.041853, -0.045238, -0.048944, -0.046093
#*# 	  -0.025639, -0.019374, -0.015825, -0.012553, -0.009164, -0.006054, -0.003413, -0.001303, 0.001048, 0.004831, 0.005232, 0.005464, 0.005001, 0.005972, 0.005764, 0.004047, 0.003764, 0.001372, 0.001108, -0.002188, -0.003497, -0.006479, -0.009730, -0.010745, -0.013381, -0.015539, -0.019180, -0.020597, -0.023273, -0.025216, -0.026789, -0.032400, -0.034247, -0.039740, -0.042899, -0.045702, -0.048101
#*# 	  -0.022256, -0.017570, -0.012982, -0.008881, -0.006722, -0.004074, -0.001767, 0.000058, 0.002684, 0.004220, 0.004847, 0.005814, 0.005789, 0.005488, 0.005412, 0.005152, 0.004919, 0.004084, 0.001960, 0.001098, -0.002293, -0.004844, -0.006891, -0.009686, -0.012797, -0.014886, -0.018292, -0.020702, -0.023204, -0.024444, -0.025758, -0.029114, -0.032571, -0.035602, -0.039750, -0.042400, -0.046412
#*# 	  -0.020235, -0.012663, -0.009001, -0.005629, -0.002416, -0.000687, 0.001216, 0.001810, 0.002890, 0.005816, 0.006355, 0.007151, 0.007577, 0.007750, 0.008815, 0.008749, 0.008513, 0.008220, 0.006691, 0.004302, 0.002122, -0.000873, -0.005212, -0.007127, -0.011893, -0.014658, -0.018456, -0.020244, -0.021681, -0.022526, -0.024215, -0.027015, -0.028035, -0.032260, -0.035644, -0.039314, -0.041617
#*# 	  -0.016800, -0.008646, -0.005222, -0.000169, 0.002316, 0.002428, 0.005279, 0.005900, 0.007500, 0.008197, 0.010752, 0.011393, 0.011461, 0.011869, 0.013379, 0.012986, 0.013325, 0.013556, 0.010992, 0.010250, 0.006039, 0.002134, -0.000025, -0.005019, -0.006705, -0.010798, -0.014636, -0.015378, -0.017434, -0.018691, -0.019386, -0.021321, -0.023821, -0.024722, -0.030521, -0.032966, -0.039344
#*# 	  -0.013131, -0.007263, -0.002946, 0.000529, 0.002604, 0.005008, 0.006694, 0.009542, 0.011470, 0.014502, 0.014430, 0.016267, 0.016510, 0.016564, 0.017564, 0.016393, 0.016094, 0.014494, 0.014909, 0.011357, 0.008438, 0.006588, 0.000717, -0.001025, -0.003543, -0.006669, -0.009483, -0.012435, -0.014299, -0.014684, -0.016932, -0.018615, -0.021502, -0.024465, -0.027193, -0.032497, -0.034904
#*# 	  -0.014147, -0.005591, -0.002812, 0.001608, 0.005841, 0.005864, 0.009403, 0.012712, 0.013319, 0.016788, 0.018635, 0.018434, 0.018705, 0.017899, 0.018526, 0.017349, 0.016874, 0.014306, 0.014259, 0.012279, 0.008639, 0.006701, 0.004039, 0.001596, 0.000905, -0.002355, -0.004954, -0.007665, -0.010394, -0.010573, -0.014303, -0.016947, -0.019651, -0.023217, -0.025333, -0.030277, -0.034546
#*# 	  -0.007094, -0.000492, 0.002404, 0.006938, 0.008655, 0.012860, 0.016348, 0.018027, 0.021712, 0.023495, 0.026082, 0.025914, 0.026496, 0.025466, 0.024922, 0.022603, 0.021913, 0.020343, 0.018082, 0.016104, 0.013889, 0.013367, 0.010842, 0.009277, 0.008059, 0.005938, 0.004222, 0.000221, -0.000948, -0.004210, -0.007688, -0.009116, -0.014446, -0.017005, -0.019766, -0.024364, -0.025645
#*# 	  -0.001930, 0.003672, 0.009336, 0.012227, 0.015298, 0.014907, 0.020845, 0.026935, 0.025336, 0.028613, 0.030610, 0.031239, 0.029665, 0.027910, 0.028100, 0.026531, 0.025418, 0.023662, 0.021089, 0.019012, 0.018612, 0.017064, 0.014623, 0.013504, 0.013150, 0.010721, 0.009711, 0.006470, 0.002837, 0.000843, -0.001172, -0.006276, -0.007198, -0.011399, -0.014846, -0.017149, -0.019310
#*# 	  0.002821, 0.010030, 0.013422, 0.018024, 0.019130, 0.022593, 0.025423, 0.026189, 0.029554, 0.031782, 0.031643, 0.032304, 0.032086, 0.031962, 0.032403, 0.031225, 0.031889, 0.029221, 0.028601, 0.026278, 0.024089, 0.021404, 0.018291, 0.017628, 0.015034, 0.014167, 0.011223, 0.008835, 0.006553, 0.005089, 0.003810, 0.000260, -0.003470, -0.006023, -0.008779, -0.012726, -0.013428
#*# 	  0.008784, 0.015061, 0.019896, 0.023243, 0.025195, 0.026321, 0.027936, 0.029394, 0.031095, 0.032176, 0.033354, 0.035160, 0.035174, 0.033673, 0.034702, 0.034568, 0.034790, 0.034377, 0.031722, 0.030566, 0.027756, 0.024406, 0.021248, 0.019013, 0.017420, 0.014700, 0.011973, 0.009506, 0.008507, 0.007688, 0.006103, 0.004182, 0.001459, -0.001503, -0.003453, -0.006791, -0.009498
#*# 	  0.012577, 0.018041, 0.023191, 0.027519, 0.027368, 0.029027, 0.030675, 0.030174, 0.032193, 0.033598, 0.032694, 0.035454, 0.036168, 0.035226, 0.035818, 0.036726, 0.036507, 0.035369, 0.034599, 0.032216, 0.029239, 0.026024, 0.021243, 0.019109, 0.016760, 0.013326, 0.011877, 0.009574, 0.007602, 0.007506, 0.006891, 0.004330, 0.001271, -0.001133, -0.004424, -0.006264, -0.008636
#*# 	  0.012420, 0.018603, 0.023135, 0.026699, 0.029009, 0.028079, 0.031033, 0.031724, 0.031170, 0.033899, 0.034032, 0.035560, 0.036854, 0.036138, 0.037102, 0.037104, 0.037010, 0.035699, 0.034520, 0.032216, 0.028448, 0.025045, 0.021083, 0.018216, 0.017057, 0.014116, 0.011975, 0.009994, 0.008462, 0.006787, 0.006081, 0.004656, 0.002087, -0.000584, -0.003589, -0.007136, -0.010970
#*# 	  0.014630, 0.019989, 0.025777, 0.030265, 0.029979, 0.032784, 0.034899, 0.034199, 0.037618, 0.040546, 0.041149, 0.041488, 0.041754, 0.041009, 0.040346, 0.040017, 0.039370, 0.038782, 0.036208, 0.033360, 0.031001, 0.027738, 0.025514, 0.022835, 0.020985, 0.018583, 0.015875, 0.014050, 0.011803, 0.010631, 0.008936, 0.006865, 0.003104, 0.000918, -0.000442, -0.004254, -0.007247
#*# x_count = 37
#*# y_count = 17
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = direct
#*# tension = 0.1
#*# min_x = 120.322
#*# max_x = 209.678
#*# min_y = 120.322
#*# max_y = 209.678
