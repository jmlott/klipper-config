[include mainsail.cfg]
[include steppers.cfg]
[include extruder.cfg]
[include fans.cfg]
[include sensors.cfg]
[include Adaptive_Mesh.cfg]
[include mesh.cfg]
[include timelapse.cfg]
[include macros.cfg]
[include kshaketune.cfg]
[include motors_sync.cfg]
[include light.cfg]

[idle_timeout]
timeout: 4800

[force_move]
enable_force_move: True

[verify_heater extruder]
max_error: 200 #(in seconds, default is 120)

[danger_options] allow_plugin_override: True


########################################
# MAIN
########################################

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_2C0020000C50315939343520-if00

[printer]
kinematics: limited_corexy
max_velocity: 1380
max_accel: 78350
minimum_cruise_ratio: 0.1
max_x_accel: 45000
max_y_accel: 16000
scale_xy_accel: true
max_z_velocity: 20
max_z_accel: 1500
square_corner_velocity: 15.0

########################################
# HEATED BED
########################################

[heater_bed]
heater_pin: PA1
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PF3
control: pid
pid_kp = 52.977
pid_ki = 1.909
pid_kd = 367.527
max_power: 0.7
pwm_cycle_time: 0.0166
min_temp: 0
max_temp: 120

########################################
# TUNING
########################################

[input_shaper]
enabled_extruders: extruder
#shaper_freq_x: 111.2
smoother_freq_x: 109.4
shaper_type_x: smooth_mzv
#damping_ratio_x: 0.031

shaper_freq_y: 89.0
#smoother_freq_y: 89.8
shaper_type_y: ei
damping_ratio_y: 0.029

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [stepper_z]
#*# position_endstop = -0.080
#*#
#*# [beacon model default]
#*# model_coef = 1.483303836398399,
#*# 	  1.854085002217447,
#*# 	  0.8074252373526849,
#*# 	  0.3116401903562349,
#*# 	  0.3589507786925229,
#*# 	  0.42096367665155976,
#*# 	  -0.4057732603189803,
#*# 	  -0.5162339085941002,
#*# 	  0.355008180219388,
#*# 	  0.3315262788618281
#*# model_domain = 1.8335783659486415e-07,1.9344443278306973e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 24.651572
#*# model_offset = -0.06500
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.184656, 0.196705, 0.201546, 0.203154, 0.205717, 0.207062, 0.206670, 0.207601, 0.207972, 0.210319, 0.210870, 0.213556, 0.215148, 0.215255, 0.215143, 0.216446, 0.217545, 0.216675, 0.215795, 0.212387, 0.209544, 0.206514, 0.201685, 0.198497, 0.196000, 0.191911, 0.189851, 0.187230, 0.186719, 0.186307, 0.187247, 0.185179, 0.184640, 0.182419, 0.178364, 0.176087, 0.175413
#*# 	  0.190033, 0.194669, 0.200511, 0.203332, 0.203736, 0.205993, 0.206169, 0.208223, 0.209144, 0.211945, 0.213458, 0.214586, 0.215853, 0.216414, 0.217321, 0.216485, 0.217498, 0.216624, 0.214005, 0.212954, 0.209136, 0.206394, 0.203267, 0.199419, 0.197149, 0.193350, 0.191634, 0.188686, 0.188474, 0.188346, 0.188156, 0.185207, 0.183629, 0.182340, 0.176683, 0.173355, 0.171565
#*# 	  0.186367, 0.195104, 0.199029, 0.201649, 0.204092, 0.206014, 0.209226, 0.210223, 0.211963, 0.215532, 0.216357, 0.217602, 0.217404, 0.217875, 0.216991, 0.217352, 0.216273, 0.215159, 0.214628, 0.210561, 0.207434, 0.206171, 0.202784, 0.201236, 0.199573, 0.195120, 0.194015, 0.191514, 0.189842, 0.189961, 0.187304, 0.184884, 0.182785, 0.179344, 0.175339, 0.172382, 0.167064
#*# 	  0.193381, 0.194751, 0.200644, 0.201485, 0.205823, 0.208153, 0.211435, 0.212803, 0.215731, 0.218769, 0.219753, 0.220485, 0.220621, 0.220318, 0.220134, 0.217917, 0.217656, 0.216581, 0.213950, 0.212428, 0.209949, 0.207073, 0.205621, 0.203630, 0.201042, 0.198801, 0.195738, 0.193494, 0.191504, 0.190962, 0.187927, 0.184308, 0.182258, 0.177527, 0.173983, 0.171324, 0.174275
#*# 	  0.191131, 0.197105, 0.202099, 0.204434, 0.207468, 0.211806, 0.213858, 0.215453, 0.218735, 0.220355, 0.221728, 0.222197, 0.221990, 0.221775, 0.221345, 0.220096, 0.218899, 0.219823, 0.217318, 0.214485, 0.212217, 0.210411, 0.207128, 0.205636, 0.204431, 0.200800, 0.198139, 0.195795, 0.193450, 0.191010, 0.189773, 0.186272, 0.182216, 0.179802, 0.174521, 0.172630, 0.168218
#*# 	  0.195615, 0.201042, 0.208008, 0.209723, 0.212241, 0.215201, 0.215472, 0.217839, 0.221239, 0.222099, 0.223479, 0.223605, 0.223087, 0.223138, 0.223553, 0.223309, 0.222110, 0.222839, 0.221597, 0.220346, 0.216254, 0.214071, 0.211720, 0.208361, 0.206711, 0.202450, 0.199140, 0.197518, 0.194729, 0.193616, 0.191981, 0.188701, 0.186618, 0.184045, 0.181253, 0.176722, 0.177175
#*# 	  0.201732, 0.207175, 0.211387, 0.216321, 0.215910, 0.219475, 0.220388, 0.220753, 0.221557, 0.223468, 0.225573, 0.225333, 0.224670, 0.225923, 0.226480, 0.227477, 0.227353, 0.226988, 0.225873, 0.223244, 0.220518, 0.217739, 0.214067, 0.209972, 0.208404, 0.203261, 0.201046, 0.198361, 0.196021, 0.196664, 0.194487, 0.192123, 0.190031, 0.187803, 0.184195, 0.181872, 0.179410
#*# 	  0.202558, 0.207029, 0.214004, 0.214885, 0.218096, 0.220335, 0.220822, 0.222650, 0.223794, 0.225352, 0.226504, 0.226846, 0.226319, 0.228891, 0.228628, 0.228751, 0.230301, 0.228841, 0.227611, 0.225824, 0.222512, 0.218346, 0.215470, 0.211174, 0.208596, 0.205219, 0.201167, 0.199502, 0.198306, 0.196755, 0.196921, 0.194289, 0.193713, 0.191463, 0.188307, 0.183372, 0.179612
#*# 	  0.206802, 0.209744, 0.215893, 0.219691, 0.220227, 0.224924, 0.224819, 0.227664, 0.229329, 0.230093, 0.232889, 0.231797, 0.233427, 0.234456, 0.233228, 0.234839, 0.234598, 0.232743, 0.232724, 0.228887, 0.225371, 0.223999, 0.219377, 0.216541, 0.214089, 0.211327, 0.206784, 0.204887, 0.203269, 0.203080, 0.201477, 0.198965, 0.196503, 0.195623, 0.191031, 0.189019, 0.183700
#*# 	  0.205967, 0.213145, 0.217775, 0.221000, 0.223828, 0.225883, 0.228764, 0.231847, 0.233193, 0.235246, 0.237486, 0.237400, 0.236741, 0.237628, 0.236023, 0.236486, 0.236335, 0.233828, 0.233379, 0.231259, 0.227362, 0.225581, 0.222417, 0.221674, 0.219484, 0.216452, 0.213471, 0.210692, 0.209339, 0.208058, 0.206261, 0.202137, 0.199843, 0.196204, 0.193443, 0.192054, 0.186652
#*# 	  0.210091, 0.217304, 0.221772, 0.223866, 0.226690, 0.231836, 0.233436, 0.237178, 0.238720, 0.241795, 0.243342, 0.243081, 0.243330, 0.242679, 0.241688, 0.241730, 0.239559, 0.237123, 0.237035, 0.233411, 0.230332, 0.230162, 0.227051, 0.227132, 0.226210, 0.223648, 0.220889, 0.217949, 0.216268, 0.215132, 0.211039, 0.208417, 0.204844, 0.201815, 0.199687, 0.195083, 0.193673
#*# 	  0.216609, 0.220498, 0.225125, 0.228949, 0.233036, 0.235192, 0.239197, 0.240322, 0.242433, 0.247103, 0.246267, 0.247870, 0.247818, 0.246062, 0.246109, 0.244613, 0.244263, 0.241022, 0.240544, 0.238326, 0.236125, 0.234969, 0.233277, 0.232464, 0.231263, 0.229294, 0.226673, 0.223355, 0.221756, 0.219586, 0.217005, 0.213749, 0.210208, 0.207198, 0.205504, 0.201363, 0.202176
#*# 	  0.222246, 0.226844, 0.232266, 0.235855, 0.237674, 0.239516, 0.241542, 0.244084, 0.245387, 0.248077, 0.248213, 0.248616, 0.248623, 0.247902, 0.247942, 0.247166, 0.247815, 0.246384, 0.244141, 0.243326, 0.240595, 0.238869, 0.236020, 0.234003, 0.232749, 0.231453, 0.228076, 0.225433, 0.223810, 0.222382, 0.220233, 0.217955, 0.214585, 0.212298, 0.209983, 0.206319, 0.204535
#*# 	  0.226138, 0.231765, 0.237104, 0.240729, 0.241339, 0.243675, 0.244601, 0.245682, 0.247383, 0.249259, 0.248251, 0.251636, 0.249714, 0.249970, 0.250549, 0.250761, 0.252115, 0.250553, 0.248890, 0.246876, 0.244086, 0.241957, 0.238464, 0.235383, 0.233554, 0.231846, 0.227898, 0.226810, 0.224783, 0.223061, 0.223262, 0.219954, 0.218676, 0.216111, 0.213242, 0.210894, 0.209964
#*# 	  0.231219, 0.235355, 0.242855, 0.243814, 0.246018, 0.248071, 0.247281, 0.249987, 0.248518, 0.250213, 0.252146, 0.252109, 0.253204, 0.253546, 0.253429, 0.255028, 0.255022, 0.253050, 0.253948, 0.249939, 0.246369, 0.244586, 0.239887, 0.238160, 0.235477, 0.232225, 0.229802, 0.228196, 0.225540, 0.226470, 0.225086, 0.224373, 0.221722, 0.219172, 0.217457, 0.214247, 0.211988
#*# 	  0.230506, 0.235538, 0.240772, 0.243504, 0.245870, 0.247386, 0.247479, 0.248609, 0.250539, 0.250412, 0.251172, 0.252365, 0.252507, 0.253142, 0.253710, 0.253067, 0.254371, 0.253021, 0.251821, 0.249054, 0.244928, 0.243139, 0.238367, 0.236213, 0.233848, 0.231216, 0.228549, 0.225857, 0.225087, 0.223491, 0.223091, 0.221685, 0.220055, 0.218124, 0.214935, 0.211775, 0.208888
#*# 	  0.232632, 0.238095, 0.242854, 0.246684, 0.248173, 0.250992, 0.250605, 0.252898, 0.254870, 0.256559, 0.259290, 0.258235, 0.258891, 0.258002, 0.257194, 0.257149, 0.256983, 0.254051, 0.253832, 0.250849, 0.247209, 0.245004, 0.241043, 0.240354, 0.238541, 0.234911, 0.232775, 0.231173, 0.228420, 0.228719, 0.226421, 0.223504, 0.221272, 0.219276, 0.217667, 0.215073, 0.212432
#*# x_count = 37
#*# y_count = 17
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = direct
#*# tension = 0.1
#*# min_x = 120.322
#*# max_x = 209.678
#*# min_y = 120.322
#*# max_y = 209.678
