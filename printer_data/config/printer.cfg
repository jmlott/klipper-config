[include mainsail.cfg]
[include steppers.cfg]
[include extruder.cfg]
[include fans.cfg]
[include sensors.cfg]
[include Adaptive_Mesh.cfg]
[include mesh.cfg]
[include timelapse.cfg]
[include macros.cfg]
[include kshaketune.cfg]
[include motors_sync.cfg]
[include light.cfg]

[idle_timeout]
timeout: 4800

[force_move]
enable_force_move: True

[verify_heater extruder]
max_error: 200 #(in seconds, default is 120)

[danger_options] allow_plugin_override: True


########################################
# MAIN
########################################

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_2C0020000C50315939343520-if00

[printer]
kinematics: limited_corexy
max_velocity: 1380
max_accel: 78350
minimum_cruise_ratio: 0.1
max_x_accel: 45000
max_y_accel: 16000
scale_xy_accel: true
max_z_velocity: 20
max_z_accel: 1500
square_corner_velocity: 15.0

########################################
# HEATED BED
########################################

[heater_bed]
heater_pin: PA1
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PF3
control: pid
pid_kp = 52.977
pid_ki = 1.909
pid_kd = 367.527
max_power: 0.7
pwm_cycle_time: 0.0166
min_temp: 0
max_temp: 120

########################################
# TUNING
########################################

[input_shaper]
enabled_extruders: extruder
#shaper_freq_x: 111.2
smoother_freq_x: 109.4
shaper_type_x: smooth_mzv
#damping_ratio_x: 0.031

shaper_freq_y: 89.0
#smoother_freq_y: 89.8
shaper_type_y: ei
damping_ratio_y: 0.029

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [stepper_z]
#*# position_endstop = -0.080
#*#
#*# [beacon model default]
#*# model_coef = 1.483303836398399,
#*# 	  1.854085002217447,
#*# 	  0.8074252373526849,
#*# 	  0.3116401903562349,
#*# 	  0.3589507786925229,
#*# 	  0.42096367665155976,
#*# 	  -0.4057732603189803,
#*# 	  -0.5162339085941002,
#*# 	  0.355008180219388,
#*# 	  0.3315262788618281
#*# model_domain = 1.8335783659486415e-07,1.9344443278306973e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 24.651572
#*# model_offset = -0.28000
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.202245, 0.214119, 0.217907, 0.221808, 0.223344, 0.224829, 0.224915, 0.225818, 0.225973, 0.228493, 0.229007, 0.232407, 0.233379, 0.233103, 0.233476, 0.236444, 0.236211, 0.235658, 0.233880, 0.230405, 0.227249, 0.223971, 0.220312, 0.216778, 0.214445, 0.210298, 0.207371, 0.206230, 0.204765, 0.204967, 0.206676, 0.203986, 0.203467, 0.202883, 0.197291, 0.195167, 0.190907
#*# 	  0.208905, 0.214335, 0.219573, 0.221527, 0.223845, 0.224599, 0.225706, 0.227430, 0.228214, 0.230432, 0.232100, 0.233909, 0.236698, 0.236461, 0.235788, 0.236806, 0.236479, 0.235509, 0.234796, 0.232078, 0.227889, 0.225385, 0.222134, 0.219496, 0.216208, 0.213339, 0.211303, 0.208960, 0.208081, 0.208484, 0.207632, 0.205621, 0.204331, 0.201436, 0.197062, 0.195506, 0.190535
#*# 	  0.208640, 0.214538, 0.219743, 0.221432, 0.224637, 0.225795, 0.228409, 0.229777, 0.232472, 0.236467, 0.237244, 0.238711, 0.239304, 0.240276, 0.238363, 0.238559, 0.238653, 0.236177, 0.235170, 0.232420, 0.229501, 0.228232, 0.222910, 0.221699, 0.220604, 0.216419, 0.215022, 0.212686, 0.212063, 0.210734, 0.208516, 0.207365, 0.202959, 0.200940, 0.196381, 0.193364, 0.190265
#*# 	  0.207004, 0.214063, 0.219978, 0.221508, 0.225952, 0.227548, 0.230754, 0.231964, 0.234873, 0.237591, 0.240024, 0.240200, 0.240333, 0.240243, 0.238679, 0.238109, 0.237304, 0.240873, 0.234336, 0.232319, 0.229433, 0.228189, 0.225061, 0.224299, 0.221589, 0.218037, 0.215977, 0.214075, 0.211945, 0.210746, 0.208895, 0.204379, 0.201946, 0.199015, 0.193038, 0.191097, 0.188963
#*# 	  0.207840, 0.215424, 0.219366, 0.222606, 0.225428, 0.228688, 0.230402, 0.232670, 0.234940, 0.237722, 0.240547, 0.240230, 0.240842, 0.239168, 0.238531, 0.238331, 0.236239, 0.236780, 0.234422, 0.232402, 0.229669, 0.228555, 0.225544, 0.222392, 0.222500, 0.217783, 0.214673, 0.212481, 0.209902, 0.208802, 0.207711, 0.203406, 0.200391, 0.196424, 0.191103, 0.189611, 0.186176
#*# 	  0.213320, 0.218451, 0.224082, 0.227178, 0.230326, 0.231579, 0.233769, 0.235323, 0.236383, 0.240526, 0.240870, 0.241359, 0.241757, 0.242121, 0.241491, 0.241626, 0.241199, 0.239771, 0.239791, 0.236806, 0.234048, 0.232027, 0.228137, 0.225666, 0.223406, 0.220297, 0.217127, 0.214415, 0.212595, 0.212251, 0.210564, 0.206754, 0.204487, 0.201433, 0.197846, 0.195259, 0.192701
#*# 	  0.220180, 0.226259, 0.231009, 0.234466, 0.234742, 0.238453, 0.237720, 0.239609, 0.240962, 0.243554, 0.243624, 0.244538, 0.245162, 0.245532, 0.246071, 0.247301, 0.246499, 0.246720, 0.244929, 0.241928, 0.239426, 0.237177, 0.233227, 0.229717, 0.227196, 0.222253, 0.219115, 0.217971, 0.215403, 0.214860, 0.214639, 0.211840, 0.210469, 0.207363, 0.203544, 0.200894, 0.198862
#*# 	  0.221348, 0.227834, 0.234101, 0.234964, 0.237126, 0.238672, 0.239719, 0.241420, 0.243612, 0.244742, 0.246681, 0.246815, 0.247254, 0.250131, 0.249756, 0.250284, 0.250699, 0.250487, 0.248902, 0.246619, 0.242934, 0.238753, 0.236508, 0.231178, 0.228429, 0.224733, 0.221375, 0.219222, 0.219305, 0.218739, 0.217272, 0.216684, 0.215403, 0.211346, 0.209434, 0.204177, 0.202828
#*# 	  0.226661, 0.230632, 0.235796, 0.239015, 0.240160, 0.243242, 0.243935, 0.245995, 0.248427, 0.250101, 0.252750, 0.252590, 0.252845, 0.253142, 0.253788, 0.253988, 0.254759, 0.253424, 0.251873, 0.249051, 0.245476, 0.243082, 0.238532, 0.235895, 0.234225, 0.230171, 0.227429, 0.224894, 0.223797, 0.223325, 0.222071, 0.219040, 0.217985, 0.214166, 0.211061, 0.208892, 0.203886
#*# 	  0.225978, 0.231059, 0.236079, 0.239588, 0.241450, 0.244712, 0.247190, 0.248103, 0.252293, 0.253282, 0.255872, 0.257346, 0.256229, 0.257171, 0.255976, 0.255839, 0.255836, 0.253782, 0.252975, 0.249539, 0.247218, 0.245125, 0.242346, 0.240304, 0.237801, 0.235933, 0.232733, 0.230760, 0.228469, 0.227573, 0.226296, 0.222045, 0.220092, 0.216075, 0.213504, 0.210944, 0.207460
#*# 	  0.230185, 0.233120, 0.239550, 0.242484, 0.245108, 0.247686, 0.250783, 0.253543, 0.256824, 0.258147, 0.260837, 0.260287, 0.260375, 0.260692, 0.260357, 0.259104, 0.257954, 0.256063, 0.255039, 0.251041, 0.249393, 0.248469, 0.244661, 0.243559, 0.243384, 0.240780, 0.238336, 0.235205, 0.234171, 0.231663, 0.229825, 0.225869, 0.222513, 0.219614, 0.215915, 0.213969, 0.211878
#*# 	  0.234189, 0.237254, 0.243400, 0.247584, 0.248686, 0.253616, 0.255078, 0.258690, 0.261955, 0.263394, 0.265410, 0.266496, 0.264673, 0.264344, 0.263744, 0.262351, 0.262013, 0.260558, 0.257700, 0.256999, 0.254282, 0.252799, 0.251702, 0.250037, 0.249357, 0.247164, 0.244757, 0.241591, 0.238413, 0.238196, 0.234958, 0.231611, 0.228678, 0.225219, 0.223607, 0.220090, 0.218542
#*# 	  0.240270, 0.244555, 0.249307, 0.254462, 0.256032, 0.258181, 0.259368, 0.261164, 0.263251, 0.265912, 0.266549, 0.266684, 0.267156, 0.265650, 0.265549, 0.266212, 0.265140, 0.263680, 0.263170, 0.260418, 0.257870, 0.257164, 0.253877, 0.251891, 0.250549, 0.247563, 0.246580, 0.243007, 0.242271, 0.240912, 0.238189, 0.236648, 0.233574, 0.230000, 0.228326, 0.224757, 0.222497
#*# 	  0.244190, 0.250249, 0.255975, 0.258283, 0.259860, 0.260654, 0.262819, 0.263294, 0.265355, 0.267103, 0.267330, 0.268368, 0.268706, 0.268426, 0.269051, 0.269037, 0.268749, 0.268890, 0.266843, 0.264751, 0.262498, 0.260431, 0.255361, 0.254024, 0.251627, 0.249615, 0.246175, 0.244732, 0.242856, 0.242378, 0.240974, 0.239433, 0.237206, 0.234765, 0.232096, 0.231359, 0.227441
#*# 	  0.249504, 0.254389, 0.260293, 0.262172, 0.263751, 0.265477, 0.264656, 0.265540, 0.266779, 0.267015, 0.269777, 0.269128, 0.270335, 0.271187, 0.270204, 0.271871, 0.271286, 0.270485, 0.269644, 0.266854, 0.262966, 0.260970, 0.256702, 0.254741, 0.252038, 0.249433, 0.246933, 0.244896, 0.242369, 0.244269, 0.242743, 0.240686, 0.239237, 0.236151, 0.233688, 0.231222, 0.228951
#*# 	  0.246612, 0.251652, 0.256423, 0.259206, 0.261405, 0.262742, 0.262944, 0.265054, 0.265281, 0.267197, 0.267289, 0.268607, 0.269495, 0.269863, 0.269921, 0.270496, 0.270300, 0.268911, 0.268037, 0.264426, 0.260476, 0.259177, 0.253858, 0.251994, 0.249692, 0.247418, 0.244552, 0.242823, 0.240975, 0.241322, 0.240132, 0.238528, 0.236867, 0.234018, 0.231337, 0.227516, 0.226395
#*# 	  0.248184, 0.252413, 0.258123, 0.261267, 0.262663, 0.264513, 0.264602, 0.267052, 0.269271, 0.270897, 0.273449, 0.271882, 0.272722, 0.273272, 0.272123, 0.270466, 0.271498, 0.268497, 0.267863, 0.265682, 0.261542, 0.259841, 0.256909, 0.254168, 0.252346, 0.250328, 0.246790, 0.245831, 0.243807, 0.243224, 0.241312, 0.238993, 0.236141, 0.234790, 0.232740, 0.229534, 0.226933
#*# x_count = 37
#*# y_count = 17
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = direct
#*# tension = 0.1
#*# min_x = 120.322
#*# max_x = 209.678
#*# min_y = 120.322
#*# max_y = 209.678
